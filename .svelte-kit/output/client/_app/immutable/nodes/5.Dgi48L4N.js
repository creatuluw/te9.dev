import{a as p,f,b as gt}from"../chunks/DUYJpfH3.js";import{p as aa,b as v,e as T,g as e,f as Ke,t as j,a as ra,d as oa,s as i,c as o,$ as ia,r as a,k as bt,i as r,n as Ne}from"../chunks/BD00kAjd.js";import{d as sa,a as k,s as _}from"../chunks/CrMTnRaV.js";import{i as y}from"../chunks/CbUH2uBF.js";import{e as de,i as ve}from"../chunks/Ajm7LH3G.js";import{h as na,H as la,s as W,r as B}from"../chunks/lMRCGtK8.js";import{s as ae}from"../chunks/Bx0l01w4.js";import{b as F,a as ft,c as xt}from"../chunks/CUNOFHbN.js";import{b as ca}from"../chunks/BV3QDZ6R.js";import{T as da}from"../chunks/POesRTf2.js";var va=f('<div class="fixed inset-0 bg-zinc-900/20 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white rounded-xl p-8 max-w-sm w-full mx-4 border border-zinc-200 shadow-xl"><h2 class="text-xl font-bold text-zinc-900 mb-2"> </h2> <p class="text-zinc-500 mb-6"> </p> <div class="flex gap-3"><button class="flex-1 px-4 py-3 bg-zinc-900 hover:bg-zinc-800 text-white rounded-lg font-medium text-sm transition-colors">Confirm</button> <button class="flex-1 px-4 py-3 bg-zinc-100 hover:bg-zinc-200 text-zinc-700 rounded-lg text-sm transition-colors">Cancel</button></div></div></div>'),ua=f('<div class="fixed inset-0 bg-zinc-900/20 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white rounded-xl p-8 max-w-sm w-full mx-4 border border-zinc-200 shadow-xl"><h2 class="text-xl font-bold text-zinc-900 mb-2">Delete Draft?</h2> <p class="text-zinc-500 mb-2"> </p> <p class="text-zinc-400 text-sm mb-6">This action cannot be undone.</p> <div class="flex gap-3"><button class="flex-1 px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium text-sm transition-colors">Delete</button> <button class="flex-1 px-4 py-3 bg-zinc-100 hover:bg-zinc-200 text-zinc-700 rounded-lg text-sm transition-colors">Cancel</button></div></div></div>'),pa=f('<p class="text-xs text-amber-600 mt-2">Skill already exists for this bookmark</p>'),ba=gt('<svg class="animate-spin h-3 w-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),fa=gt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>'),xa=f('<label class="flex items-start gap-2 cursor-pointer"><input type="checkbox" class="mt-1"/> <span class="text-sm text-zinc-600"> </span></label>'),ga=f('<div class="bg-zinc-50 rounded-lg p-4 border border-zinc-200"><p class="text-xs font-medium text-zinc-500 uppercase tracking-wider mb-3">Suggested Goals (click to select)</p> <div class="space-y-2"></div> <div class="flex gap-2 mt-4"><button type="button" class="px-3 py-1.5 bg-zinc-900 hover:bg-zinc-800 text-white rounded-lg text-xs font-medium transition-colors">Apply Selected</button> <button type="button" class="px-3 py-1.5 bg-zinc-200 hover:bg-zinc-300 text-zinc-700 rounded-lg text-xs transition-colors">Clear</button></div></div>'),ma=f('<div class="space-y-4 border-t border-zinc-200 pt-6"><div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Custom Title (optional)</label> <input type="text" class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"/></div> <div><div class="flex items-center justify-between mb-2"><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider">Repurposing Goals (optional)</label> <button type="button" class="text-xs text-zinc-500 hover:text-zinc-900 flex items-center gap-1 transition-colors disabled:opacity-50"><!> Suggest Goals</button></div> <textarea placeholder="What outcomes do you want from this blog?  Examples: • Target audience: developers, beginners • SEO keywords: react hooks tutorial • Tone: educational, tutorial-style • Compare with: class components" class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-sm text-zinc-700 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"></textarea></div> <!> <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="rounded"/> <span class="text-sm text-zinc-600">Enable web research to expand on topics</span></label></div>'),_a=f(`<div class="fixed inset-0 bg-zinc-900/20 backdrop-blur-sm flex items-center justify-center z-50 overflow-y-auto py-8"><div class="bg-white rounded-xl p-8 max-w-lg w-full mx-4 border border-zinc-200 shadow-xl my-auto"><h2 class="text-xl font-bold text-zinc-900 mb-6">Generate New Draft</h2> <div class="space-y-4 mb-6"><label><input type="radio" class="mt-1"/> <div><span class="font-medium text-zinc-900">Blog Post</span> <p class="text-sm text-zinc-500 mt-1">Creates an engaging blog post with introduction, main content, and conclusion in Markdown format.
							You can create multiple blog posts per bookmark.</p></div></label> <label><input type="radio" class="mt-1"/> <div><span class="font-medium text-zinc-900">Skill (AI Agent)</span> <p class="text-sm text-zinc-500 mt-1">Researches the topic from the bookmark and generates a reusable SKILL.md file for AI agents.
							Includes: installation, API reference, examples, and embedded source references.</p> <!></div></label></div> <!> <div class="flex gap-3 mt-6"><button class="flex-1 px-4 py-3 bg-zinc-900 hover:bg-zinc-800 text-white rounded-lg font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> </button> <button class="flex-1 px-4 py-3 bg-zinc-100 hover:bg-zinc-200 text-zinc-700 rounded-lg text-sm transition-colors">Cancel</button></div></div></div>`),ha=f("<option> </option>"),ka=f('<input type="text" list="category-list" placeholder="Select or type new category..." class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"/> <datalist id="category-list"></datalist>',1),za=f("<option> </option>"),ya=f('<input type="text" placeholder="New category name..." class="w-full mt-2 bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"/>'),wa=f('<div class="flex gap-2"><select class="flex-1 bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"></select> <button type="button" class="px-4 py-3 bg-zinc-100 hover:bg-zinc-200 text-zinc-600 rounded-lg text-sm border border-zinc-200 transition-colors whitespace-nowrap">+ New</button></div> <!>',1),Da=f('<p class="text-xs text-zinc-400 mt-2">Hidden from bookmarks list</p>'),Sa=f('<div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Excerpt</label> <p class="text-zinc-500 bg-zinc-50 rounded-lg px-4 py-3 border border-zinc-200"> </p></div>'),Ca=f('<span class="text-sm text-zinc-500 self-center"> </span>'),ja=f('<span class="text-xs px-2 py-0.5 rounded-full bg-violet-100 text-violet-700 font-medium">Skill</span>'),Ta=f('<span class="text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 font-medium">Blog Post</span>'),Aa=f('<div class="bg-white border border-zinc-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow"><div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><!> <span> </span></div> <h3 class="font-medium text-zinc-900 truncate"> </h3> <p class="text-xs text-zinc-400 mt-1"> </p></div> <div class="flex items-center gap-2"><a class="px-3 py-1.5 bg-zinc-100 hover:bg-zinc-200 text-zinc-700 rounded-lg text-sm transition-colors">View</a> <button class="p-1.5 text-zinc-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors" title="Delete draft"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div>'),Ba=f('<div class="mt-8"><h2 class="text-lg font-semibold text-zinc-900 mb-4"> </h2> <div class="space-y-3"></div></div>'),Ga=f(`<!> <!> <!> <!> <!> <main class="pt-16 flex-1 flex flex-col"><section class="flex-1 flex flex-col"><div class="max-w-[2560px] mx-auto w-full"><div class="border-x border-zinc-200 bg-white/80 backdrop-blur-sm px-6 py-4 border-b"><a class="text-sm text-zinc-500 hover:text-zinc-900 transition-colors">← Back to Bookmarks</a></div> <div class="border-x border-zinc-200 p-6 lg:p-8"><div class="max-w-3xl mx-auto"><div class="bg-white border border-zinc-200 rounded-xl p-6 lg:p-8 shadow-sm"><div class="mb-6 p-4 bg-zinc-50 rounded-lg border border-zinc-200 flex items-center justify-between gap-4"><div class="flex-1 min-w-0"><p class="text-xs text-zinc-400 mb-1">Original URL</p> <p class="text-sm text-zinc-600 truncate"> </p></div> <a target="_blank" rel="noopener noreferrer" class="flex-shrink-0 px-4 py-2 bg-zinc-900 hover:bg-zinc-800 text-white rounded-lg text-sm font-medium flex items-center gap-2 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg> Visit</a></div> <div class="space-y-6"><div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Title</label> <input type="text" class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-lg text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"/></div> <div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Category</label> <!></div> <div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Tags (comma-separated)</label> <input type="text" placeholder="tag1, tag2, tag3" class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"/></div> <div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2">Reason for Bookmark</label> <textarea placeholder="Why did you bookmark this? What's interesting about it?" class="w-full bg-white border border-zinc-200 rounded-lg px-4 py-3 text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/10 focus:border-zinc-400"></textarea></div> <div><label class="block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-3">Approved for blog post</label> <div class="flex gap-2"><button type="button">Yes</button> <button type="button">No</button></div> <!></div> <!> <div class="pt-4 border-t border-zinc-200"><p class="text-sm text-zinc-400"> </p></div></div> <div class="flex gap-4 mt-8 pt-6 border-t border-zinc-200"><button class="px-6 py-3 bg-zinc-900 hover:bg-zinc-800 text-white rounded-lg font-medium disabled:opacity-50 transition-colors"> </button> <button class="px-6 py-3 bg-zinc-100 hover:bg-zinc-200 text-zinc-900 rounded-lg font-medium disabled:opacity-50 border border-zinc-200 transition-colors"> </button> <!></div></div> <!></div></div></div></section></main>`,1);function Fa(mt,w){var st;aa(w,!0);const Oe=[];let b=v(T(w.data.bookmark)),ue=T(w.data.categories),Y=v(T(w.data.drafts)),K=v(T(w.data.skillDraft)),pe=v(T(e(b).title)),G=v(T(e(b).category)),be=v(T(e(b).reason_for_bookmark||"")),q=v(T(e(b).blog_approved)),fe=v(T(((st=e(b).tags)==null?void 0:st.join(", "))||"")),xe=v(!1),J=v(!1),N=v(!1),g=v(""),re=v(!1),oe=v(null),ie=v(!1),D=v("blog_post"),se=v(""),O=v(""),ge=v(!0),ne=v(!1),M=v(T([])),P=v(T([])),le=v(!1),E=v(null);async function _t(){r(J,!0),r(g,"");try{const t=await fetch(`/api/bookmarks/${e(b).id}?key=${w.data.apiKey}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e(pe),category:e(G),reason_for_bookmark:e(be)||null,blog_approved:e(q),tags:e(fe).split(",").map(s=>s.trim()).filter(Boolean)})});if(t.ok){const s=await t.json();r(b,s,!0),r(g,"Saved!")}else r(g,"Failed to save")}catch{r(g,"Error saving")}r(J,!1)}function ht(){r(se,""),r(O,""),r(M,[],!0),r(P,[],!0),r(D,"blog_post"),r(ie,!0)}async function kt(){r(ne,!0);try{const t=await fetch(`/api/drafts/suggest-goals?key=${w.data.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e(b).title,excerpt:e(b).excerpt,link:e(b).link})});if(t.ok){const s=await t.json();r(M,s.suggestions||[],!0),r(P,e(M).map(()=>!1),!0)}}catch(t){console.error("Failed to get suggestions:",t)}r(ne,!1)}function zt(){const t=e(M).filter((s,n)=>e(P)[n]);t.length>0&&r(O,e(O)?e(O)+`
`+t.join(`
`):t.join(`
`),!0),r(M,[],!0),r(P,[],!0)}async function yt(){if(e(D)==="skill"&&e(K)){r(g,"A skill draft already exists for this bookmark");return}r(N,!0),r(g,""),r(ie,!1);try{const t=await fetch(`/api/generate/${e(b).id}?key=${w.data.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({draft_type:e(D),custom_title:e(se)||void 0,metadata:e(D)==="blog_post"?{repurposing_goals:e(O)||void 0,web_research_enabled:e(ge)}:void 0})});if(t.ok){const s=await t.json();window.location.href=`/drafts/${s.id}?key=${w.data.apiKey}&stream=true`}else{const s=await t.json();r(g,s.error||"Generation failed",!0),r(N,!1)}}catch{r(g,"Error generating draft"),r(N,!1)}}function wt(t){r(E,t,!0),r(le,!0)}async function Dt(){var t;if(e(E)){try{(await fetch(`/api/drafts/${e(E).id}?key=${w.data.apiKey}`,{method:"DELETE"})).ok?(r(Y,e(Y).filter(n=>n.id!==e(E).id),!0),((t=e(K))==null?void 0:t.id)===e(E).id&&r(K,null),r(g,"Draft deleted")):r(g,"Failed to delete draft")}catch{r(g,"Error deleting draft")}r(le,!1),r(E,null)}}function St(t){return new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function Ct(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Pe(t){r(oe,t,!0),r(re,!0)}async function jt(t){r(re,!1),r(J,!0),r(g,"");try{const s=await fetch(`/api/bookmarks/${e(b).id}?key=${w.data.apiKey}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({blog_approved:t})});s.ok?(r(b,await s.json(),!0),r(q,t,!0),r(g,t?"Approved!":"Hidden from bookmarks",!0)):r(g,"Failed to update")}catch{r(g,"Error updating")}r(J,!1)}var Ie=Ga();na("k3ek72",t=>{oa(()=>{ia.title=`${e(b).title??""} | Bookmarks`})});var Re=Ke(Ie);la(Re);var Fe=i(Re,2);da(Fe,{});var Je=i(Fe,2);{var Tt=t=>{var s=va(),n=o(s),d=o(n),m=o(d,!0);a(d);var x=i(d,2),l=o(x,!0);a(x);var c=i(x,2),u=o(c),z=i(u,2);a(c),a(n),a(s),j(()=>{_(m,e(oe)?"Approve Bookmark?":"Hide Bookmark?"),_(l,e(oe)?"This will mark the bookmark as approved for a blog post.":"This will hide the bookmark from the bookmarks list.")}),k("click",u,()=>jt(e(oe))),k("click",z,()=>r(re,!1)),p(t,s)};y(Je,t=>{e(re)&&t(Tt)})}var Ve=i(Je,2);{var At=t=>{var s=ua(),n=o(s),d=i(o(n),2),m=o(d);a(d);var x=i(d,4),l=o(x),c=i(l,2);a(x),a(n),a(s),j(()=>{var u;return _(m,`Are you sure you want to delete "${((u=e(E))==null?void 0:u.title)??""}"?`)}),k("click",l,Dt),k("click",c,()=>{r(le,!1),r(E,null)}),p(t,s)};y(Ve,t=>{e(le)&&t(At)})}var Ue=i(Ve,2);{var Bt=t=>{var s=_a(),n=o(s),d=i(o(n),2),m=o(d),x=o(m);B(x),x.value=x.__value="blog_post",Ne(2),a(m);var l=i(m,2),c=o(l);B(c),c.value=c.__value="skill";var u=i(c,2),z=i(o(u),4);{var I=S=>{var H=pa();p(S,H)};y(z,S=>{e(K)&&S(I)})}a(u),a(l),a(d);var L=i(d,2);{var Be=S=>{var H=ma(),$=o(H),V=i(o($),2);B(V),a($);var U=i($,2),ee=o(U),C=i(o(ee),2),te=o(C);{var Yt=h=>{var R=ba();p(h,R)},qt=h=>{var R=fa();p(h,R)};y(te,h=>{e(ne)?h(Yt):h(qt,!1)})}Ne(),a(C),a(ee);var Me=i(ee,2);bt(Me),W(Me,"rows",4),a(U);var nt=i(U,2);{var Qt=h=>{var R=ga(),Ee=i(o(R),2);de(Ee,21,()=>e(M),ve,(Zt,$t,ut)=>{var Le=xa(),He=o(Le);B(He);var pt=i(He,2),ea=o(pt,!0);a(pt),a(Le),j(()=>_(ea,e($t))),xt(He,()=>e(P)[ut],ta=>e(P)[ut]=ta),p(Zt,Le)}),a(Ee);var dt=i(Ee,2),vt=o(dt),Xt=i(vt,2);a(dt),a(R),k("click",vt,zt),k("click",Xt,()=>{r(M,[],!0),r(P,[],!0)}),p(h,R)};y(nt,h=>{e(M).length>0&&h(Qt)})}var lt=i(nt,2),ct=o(lt);B(ct),Ne(2),a(lt),a(H),j(()=>{W(V,"placeholder",e(b).title),C.disabled=e(ne)}),F(V,()=>e(se),h=>r(se,h)),k("click",C,kt),F(Me,()=>e(O),h=>r(O,h)),xt(ct,()=>e(ge),h=>r(ge,h)),p(S,H)};y(L,S=>{e(D)==="blog_post"&&S(Be)})}var ce=i(L,2),A=o(ce),Ge=o(A,!0);a(A);var Z=i(A,2);a(ce),a(n),a(s),j(()=>{ae(m,1,`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${e(D)==="blog_post"?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"}`),ae(l,1,`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${e(D)==="skill"?"border-zinc-900 bg-zinc-50":e(K)?"border-zinc-200 bg-zinc-50 opacity-50 cursor-not-allowed":"border-zinc-200 hover:border-zinc-300"}`),c.disabled=!!e(K),A.disabled=e(N)||e(D)==="skill"&&!!e(K),_(Ge,e(N)?"Generating...":`Generate ${e(D)==="skill"?"Skill":"Blog Post"}`)}),ft(Oe,[],x,()=>e(D),S=>r(D,S)),ft(Oe,[],c,()=>e(D),S=>r(D,S)),k("click",A,yt),k("click",Z,()=>r(ie,!1)),p(t,s)};y(Ue,t=>{e(ie)&&t(Bt)})}var We=i(Ue,2),Ye=o(We),qe=o(Ye),me=o(qe),Gt=o(me);a(me);var Qe=i(me,2),Xe=o(Qe),_e=o(Xe),he=o(_e),ke=o(he),Ze=i(o(ke),2),Mt=o(Ze,!0);a(Ze),a(ke);var Et=i(ke,2);a(he);var ze=i(he,2),ye=o(ze),$e=i(o(ye),2);B($e),a(ye);var we=i(ye,2),Lt=i(o(we),2);{var Ht=t=>{var s=ka(),n=Ke(s);B(n);var d=i(n,2);de(d,21,()=>ue,ve,(m,x)=>{var l=ha(),c=o(l,!0);a(l);var u={};j(()=>{_(c,e(x).name),u!==(u=e(x).name)&&(l.value=(l.__value=e(x).name)??"")}),p(m,l)}),a(d),F(n,()=>e(G),m=>r(G,m)),p(t,s)},Kt=t=>{var s=wa(),n=Ke(s),d=o(n);de(d,21,()=>ue,ve,(c,u)=>{var z=za(),I=o(z,!0);a(z);var L={};j(()=>{_(I,e(u).name),L!==(L=e(u).name)&&(z.value=(z.__value=e(u).name)??"")}),p(c,z)}),a(d);var m=i(d,2);a(n);var x=i(n,2);{var l=c=>{var u=ya();B(u),F(u,()=>e(G),z=>r(G,z)),p(c,u)};y(x,c=>{e(xe)&&c(l)})}k("change",d,()=>r(xe,!1)),ca(d,()=>e(G),c=>r(G,c)),k("click",m,()=>{r(G,""),r(xe,!0)}),p(t,s)};y(Lt,t=>{ue.length>10?t(Ht):t(Kt,!1)})}a(we);var De=i(we,2),et=i(o(De),2);B(et),a(De);var Se=i(De,2),Ce=i(o(Se),2);bt(Ce),W(Ce,"rows",3),a(Se);var je=i(Se,2),Te=i(o(je),2),Ae=o(Te),tt=i(Ae,2);a(Te);var Nt=i(Te,2);{var Ot=t=>{var s=Da();p(t,s)};y(Nt,t=>{e(q)===!1&&t(Ot)})}a(je);var at=i(je,2);{var Pt=t=>{var s=Sa(),n=i(o(s),2),d=o(n,!0);a(n),a(s),j(()=>_(d,e(b).excerpt)),p(t,s)};y(at,t=>{e(b).excerpt&&t(Pt)})}var rt=i(at,2),ot=o(rt),It=o(ot);a(ot),a(rt),a(ze);var it=i(ze,2),Q=o(it),Rt=o(Q,!0);a(Q);var X=i(Q,2),Ft=o(X,!0);a(X);var Jt=i(X,2);{var Vt=t=>{var s=Ca(),n=o(s,!0);a(s),j(()=>_(n,e(g))),p(t,s)};y(Jt,t=>{e(g)&&t(Vt)})}a(it),a(_e);var Ut=i(_e,2);{var Wt=t=>{var s=Ba(),n=o(s),d=o(n);a(n);var m=i(n,2);de(m,21,()=>e(Y),ve,(x,l)=>{var c=Aa(),u=o(c),z=o(u),I=o(z),L=o(I);{var Be=C=>{var te=ja();p(C,te)},ce=C=>{var te=Ta();p(C,te)};y(L,C=>{e(l).draft_type==="skill"?C(Be):C(ce,!1)})}var A=i(L,2),Ge=o(A,!0);a(A),a(I);var Z=i(I,2),S=o(Z,!0);a(Z);var H=i(Z,2),$=o(H,!0);a(H),a(z);var V=i(z,2),U=o(V),ee=i(U,2);a(V),a(u),a(c),j(C=>{ae(A,1,`px-2 py-0.5 rounded-full text-xs font-medium ${e(l).status==="approved"?"bg-emerald-100 text-emerald-700":e(l).status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`),_(Ge,e(l).status),_(S,e(l).title),_($,C),W(U,"href",`/drafts/${e(l).id??""}?key=${w.data.apiKey??""}`)},[()=>Ct(e(l).created_at)]),k("click",ee,()=>wt(e(l))),p(x,c)}),a(m),a(s),j(()=>_(d,`Drafts (${e(Y).length??""})`)),p(t,s)};y(Ut,t=>{e(Y).length>0&&t(Wt)})}a(Xe),a(Qe),a(qe),a(Ye),a(We),j(t=>{W(Gt,"href",`/bookmarks?key=${w.data.apiKey??""}`),_(Mt,e(b).link),W(Et,"href",e(b).link),ae(Ae,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e(q)===!0?"bg-emerald-500 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 border border-zinc-200"}`),ae(tt,1,`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e(q)===!1?"bg-red-500 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200 border border-zinc-200"}`),_(It,`Bookmarked on ${t??""}`),Q.disabled=e(J),_(Rt,e(J)?"Saving...":"Save Changes"),X.disabled=e(N),_(Ft,e(N)?"Generating...":"+ Generate Draft")},[()=>St(e(b).created_at)]),F($e,()=>e(pe),t=>r(pe,t)),F(et,()=>e(fe),t=>r(fe,t)),F(Ce,()=>e(be),t=>r(be,t)),k("click",Ae,()=>Pe(!0)),k("click",tt,()=>Pe(!1)),k("click",Q,_t),k("click",X,ht),p(mt,Ie),ra()}sa(["click","change"]);export{Fa as component};
